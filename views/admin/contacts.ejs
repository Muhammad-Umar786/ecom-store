<style>
    .accordion-button:not(.collapsed) {
        color: #0d6efd;
        background-color: #e7f1ff;
    }
</style>

<div class="container py-5">
    <h1 class="mb-4">Manage Contact Messages</h1>

    <% if (!contacts.length) { %>
        <p class="text-muted">No contact messages found.</p>
        <% } else { %>
            <div class="accordion" id="contactsAccordion">
                <% contacts.forEach((c, idx)=> { %>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="heading<%= idx %>">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapse<%= idx %>" aria-expanded="false"
                                aria-controls="collapse<%= idx %>">
                                <strong>
                                    <%= c.firstName %>
                                        <%= c.lastName %>
                                </strong>
                                <small class="text-muted ms-2">
                                    â€” <%= new Date(c.createdAt).toLocaleString() %>
                                </small>
                            </button>
                        </h2>
                        <div id="collapse<%= idx %>" class="accordion-collapse collapse"
                            aria-labelledby="heading<%= idx %>" data-bs-parent="#contactsAccordion">
                            <div class="accordion-body">
                                <p>
                                    <%= c.message %>
                                </p>
                            </div>
                        </div>
                    </div>
                    <% }) %>
            </div>
            <% } %>
</div>